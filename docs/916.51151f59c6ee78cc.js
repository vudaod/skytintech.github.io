"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[916],{7916:(gt,_,o)=>{o.r(_),o.d(_,{EmailSmtpSettingModule:()=>ct});var S=o(9808),r=o(2784),f=o(2676),t=o(5e3),p=o(7221),x=o(520),M=o(8032);let g=(()=>{class e{constructor(i,a){this.httpClient=i,this.commonHttpErrorService=a}getEmailSMTPSettings(){return this.httpClient.get("EmailSMTPSetting").pipe((0,p.K)(this.commonHttpErrorService.handleError))}getEmailSMTPSetting(i){return this.httpClient.get(`EmailSMTPSetting/${i}`).pipe((0,p.K)(this.commonHttpErrorService.handleError))}addEmailSMTPSetting(i){return this.httpClient.post("EmailSMTPSetting",i).pipe((0,p.K)(this.commonHttpErrorService.handleError))}updateEmailSMTPSetting(i){return this.httpClient.put(`EmailSMTPSetting/${i.id}`,i).pipe((0,p.K)(this.commonHttpErrorService.handleError))}deleteEmailSMTPSetting(i){return this.httpClient.delete(`EmailSMTPSetting/${i}`).pipe((0,p.K)(this.commonHttpErrorService.handleError))}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(x.eN),t.LFG(M.U))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=o(5485),h=o(2457),E=o(6107),s=o(2075),T=o(2925);function L(e,n){1&e&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"ACTION")," "))}const N=function(e){return["/email-smtp/manage",e]};function U(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"td",21)(1,"button",22),t._UZ(2,"i",23),t.TgZ(3,"span",24),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"button",25),t.NdJ("click",function(){const c=t.CHM(i).$implicit,d=t.oxw();return t.KtG(d.deleteEmailSMTPSetting(c))}),t._UZ(7,"i",26),t.TgZ(8,"span",24),t._uU(9),t.ALo(10,"translate"),t.qZA()()()}if(2&e){const i=n.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(7,N,i.id)),t.xp6(3),t.hij(" ",t.lcZ(5,3,"EDIT"),""),t.xp6(5),t.hij(" ",t.lcZ(10,5,"DELETE"),"")}}function D(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"HOST")," "))}function b(e,n){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.host," ")}}function F(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"USER_NAME"),""))}function I(e,n){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.userName," ")}}function P(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"PORT")," "))}function Y(e,n){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.port," ")}}function y(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IS_DEFAULT")," "))}function q(e,n){1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"YES")))}function Q(e,n){1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"NO")))}function j(e,n){if(1&e&&(t.TgZ(0,"td",28),t.YNc(1,q,3,3,"ng-container",29),t.YNc(2,Q,3,3,"ng-container",29),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Q6J("ngIf",i.isDefault),t.xp6(1),t.Q6J("ngIf",!i.isDefault)}}function R(e,n){1&e&&t._UZ(0,"tr",30)}function w(e,n){1&e&&t._UZ(0,"tr",31)}const J=function(){return["/email-smtp/manage"]};let O=(()=>{class e extends f.H{constructor(i,a,l,c){super(),this.emailSmtpSettingService=i,this.commonDialogService=a,this.toastrService=l,this.translationService=c,this.emailSMTPSettings=[],this.displayedColumns=["action","userName","host","port","isDefault"]}ngOnInit(){this.getEmailSMTPSettings()}getEmailSMTPSettings(){this.sub$.sink=this.emailSmtpSettingService.getEmailSMTPSettings().subscribe(i=>{this.emailSMTPSettings=i})}deleteEmailSMTPSetting(i){this.sub$.sink=this.commonDialogService.deleteConformationDialog(`${this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")} ${i.host}`).subscribe(a=>{a&&(this.sub$.sink=this.emailSmtpSettingService.deleteEmailSMTPSetting(i.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("EMAIL_SMTP_SETUP_DELETED_SUCCESSFULLY")),this.getEmailSMTPSettings()}))})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(g),t.Y36(C.V),t.Y36(h._W),t.Y36(E.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-email-smtp-setting-list"]],features:[t.qOj],decls:32,vars:12,consts:[[1,"row","mb-3","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"section-title"],[1,"widget-title"],[1,"btn","btn-success","btn-sm","m-right-10",3,"routerLink"],[1,"fas","fa-plus"],[1,"mat-elevation-z8"],[1,"table-container"],["mat-table","",3,"dataSource"],["matColumnDef","action"],["style","width:30%","mat-header-cell","",4,"matHeaderCellDef"],["style","width:30%","mat-cell","",4,"matCellDef"],["matColumnDef","host"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","userName"],["matColumnDef","port"],["matColumnDef","isDefault"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",2,"width","30%"],["mat-cell","",2,"width","30%"],["type","button",1,"btn","btn-success","btn-sm","m-right-10",3,"routerLink"],[1,"fas","fa-pencil-alt"],[1,"d-none","d-sm-inline"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",1)(7,"h4",3)(8,"button",4),t._UZ(9,"i",5),t._uU(10),t.ALo(11,"translate"),t.qZA()()()(),t.TgZ(12,"div",6)(13,"div",7)(14,"table",8),t.ynx(15,9),t.YNc(16,L,3,3,"th",10),t.YNc(17,U,11,9,"td",11),t.BQk(),t.ynx(18,12),t.YNc(19,D,3,3,"th",13),t.YNc(20,b,2,1,"td",14),t.BQk(),t.ynx(21,15),t.YNc(22,F,3,3,"th",13),t.YNc(23,I,2,1,"td",14),t.BQk(),t.ynx(24,16),t.YNc(25,P,3,3,"th",13),t.YNc(26,Y,2,1,"td",14),t.BQk(),t.ynx(27,17),t.YNc(28,y,3,3,"th",13),t.YNc(29,j,3,2,"td",14),t.BQk(),t.YNc(30,R,1,0,"tr",18),t.YNc(31,w,1,0,"tr",19),t.qZA()()()),2&i&&(t.xp6(4),t.Oqu(t.lcZ(5,7,"EMAIL_SMTP_SETTINGS")),t.xp6(4),t.Q6J("routerLink",t.DdM(11,J)),t.xp6(2),t.hij(" ",t.lcZ(11,9,"ADD_SMTP_SETTING")," "),t.xp6(4),t.Q6J("dataSource",a.emailSMTPSettings),t.xp6(16),t.Q6J("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns))},dependencies:[S.O5,r.rH,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,T.X$]}),e})();var u=o(319),m=o(3075),v=o(2368);function k(e,n){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADD_EMAIL_SMTP_SETTING")," "))}function H(e,n){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"EDIT_EMAIL_SMTP_SETTING")," "))}function $(e,n){1&e&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"HOST_IS_REQUIRED")," "))}function B(e,n){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,$,3,3,"div",20),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",null==i.smtpSettingForm.get("host").errors?null:i.smtpSettingForm.get("host").errors.required)}}function G(e,n){1&e&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PORT_IS_REQUIRED")," "))}function V(e,n){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,G,3,3,"div",20),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",null==i.smtpSettingForm.get("port").errors?null:i.smtpSettingForm.get("port").errors.required)}}function K(e,n){1&e&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"USER_NAME_IS_REQUIRED")," "))}function z(e,n){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,K,3,3,"div",20),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",null==i.smtpSettingForm.get("userName").errors?null:i.smtpSettingForm.get("userName").errors.required)}}function X(e,n){1&e&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PASSWORD_IS_REQUIRED")," "))}function W(e,n){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,X,3,3,"div",20),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",null==i.smtpSettingForm.get("password").errors?null:i.smtpSettingForm.get("password").errors.required)}}function tt(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ENABLE_SSL")," "))}function et(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ENABLE_SSL")," "))}function it(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IS_DEFAULT")," "))}function nt(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IS_DEFAULT")," "))}function at(e,n){if(1&e){const i=t.EpF();t.ynx(0),t.TgZ(1,"button",22),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.saveEmailSMTPSetting())}),t._UZ(2,"i",23),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.BQk()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"SAVE"),""))}function ot(e,n){if(1&e){const i=t.EpF();t.ynx(0),t.TgZ(1,"button",22),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l.saveEmailSMTPSetting())}),t._UZ(2,"i",23),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.BQk()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"SAVE"),""))}const mt=function(){return["/email-smtp"]};let Z=(()=>{class e extends f.H{constructor(i,a,l,c,d,St){super(),this.router=i,this.fb=a,this.activeRoute=l,this.emailSmtpSettingService=c,this.toastrService=d,this.translationService=St,this.isEditMode=!1}ngOnInit(){this.createEmailSMTPForm(),this.sub$.sink=this.activeRoute.data.subscribe(i=>{i.smtpSetting&&(this.isEditMode=!0,this.smtpSettingForm.patchValue(i.smtpSetting))})}createEmailSMTPForm(){this.smtpSettingForm=this.fb.group({id:[""],host:["",[m.kI.required]],userName:["",[m.kI.required]],password:["",[m.kI.required]],isEnableSSL:[!1],port:["",[m.kI.required]],isDefault:[!1]})}saveEmailSMTPSetting(){if(this.smtpSettingForm.valid){const i=this.createBuildObject();this.sub$.sink=this.isEditMode?this.emailSmtpSettingService.updateEmailSMTPSetting(i).subscribe(()=>{this.toastrService.success(this.translationService.getValue("EMAIL_SMTP_SETTING_UPDATED_SUCCESSFULLY")),this.router.navigate(["/email-smtp"])}):this.emailSmtpSettingService.addEmailSMTPSetting(i).subscribe(()=>{this.toastrService.success(this.translationService.getValue("EMAIL_SMTP_SETTING_CREATED_SUCCESSFULLY")),this.router.navigate(["/email-smtp"])})}else this.smtpSettingForm.markAllAsTouched()}createBuildObject(){return{id:this.smtpSettingForm.get("id").value,host:this.smtpSettingForm.get("host").value,userName:this.smtpSettingForm.get("userName").value,password:this.smtpSettingForm.get("password").value,isEnableSSL:this.smtpSettingForm.get("isEnableSSL").value,port:this.smtpSettingForm.get("port").value,isDefault:this.smtpSettingForm.get("isDefault").value}}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(r.F0),t.Y36(m.QS),t.Y36(r.gz),t.Y36(g),t.Y36(h._W),t.Y36(E.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-email-smtp-setting"]],features:[t.qOj],decls:52,vars:30,consts:[[1,"row","mb-3","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"section-title"],[4,"ngIf"],[3,"formGroup"],[1,"box","box-primary"],[1,"box-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["formControlName","host","type","text",1,"form-control"],["formControlName","port","type","number",1,"form-control"],["formControlName","userName","type","text",1,"form-control"],["autocomplete","new-password","formControlName","password","type","password",1,"form-control"],[1,"form-group","col-md-6","status-switch"],["formControlName","isEnableSSL"],["formControlName","isDefault"],[1,"m-top-10","col-md-12"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"fas","fa-times-circle"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"fas","fa-save"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,k,3,3,"h1",3),t.YNc(4,H,3,3,"h1",3),t.qZA()()(),t.TgZ(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",10),t.YNc(15,B,2,1,"div",3),t.qZA()(),t.TgZ(16,"div",8)(17,"div",9)(18,"label"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t._UZ(21,"input",11),t.YNc(22,V,2,1,"div",3),t.qZA()(),t.TgZ(23,"div",8)(24,"div",9)(25,"label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"input",12),t.YNc(29,z,2,1,"div",3),t.qZA()(),t.TgZ(30,"div",8)(31,"div",9)(32,"label"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t._UZ(35,"input",13),t.YNc(36,W,2,1,"div",3),t.qZA()(),t.TgZ(37,"div",14)(38,"mat-slide-toggle",15),t.YNc(39,tt,3,3,"span",3),t.YNc(40,et,3,3,"span",3),t.qZA()(),t.TgZ(41,"div",14)(42,"mat-slide-toggle",16),t.YNc(43,it,3,3,"span",3),t.YNc(44,nt,3,3,"span",3),t.qZA()(),t.TgZ(45,"div",17),t.YNc(46,at,5,3,"ng-container",3),t.YNc(47,ot,5,3,"ng-container",3),t.TgZ(48,"button",18),t._UZ(49,"i",19),t._uU(50),t.ALo(51,"translate"),t.qZA()()()()()()),2&i&&(t.xp6(3),t.Q6J("ngIf",!a.isEditMode),t.xp6(1),t.Q6J("ngIf",a.isEditMode),t.xp6(1),t.Q6J("formGroup",a.smtpSettingForm),t.xp6(7),t.hij(" ",t.lcZ(13,19,"HOST"),""),t.xp6(3),t.Q6J("ngIf",a.smtpSettingForm.get("host").touched&&a.smtpSettingForm.get("host").errors),t.xp6(4),t.hij(" ",t.lcZ(20,21,"PORT"),""),t.xp6(3),t.Q6J("ngIf",a.smtpSettingForm.get("port").touched&&a.smtpSettingForm.get("port").errors),t.xp6(4),t.Oqu(t.lcZ(27,23,"USER_NAME")),t.xp6(3),t.Q6J("ngIf",a.smtpSettingForm.get("userName").touched&&a.smtpSettingForm.get("userName").errors),t.xp6(4),t.Oqu(t.lcZ(34,25,"PASSWORD")),t.xp6(3),t.Q6J("ngIf",a.smtpSettingForm.get("password").touched&&a.smtpSettingForm.get("password").errors),t.xp6(3),t.Q6J("ngIf",a.smtpSettingForm.get("isEnableSSL").value),t.xp6(1),t.Q6J("ngIf",!a.smtpSettingForm.get("isEnableSSL").value),t.xp6(3),t.Q6J("ngIf",a.smtpSettingForm.get("isDefault").value),t.xp6(1),t.Q6J("ngIf",!a.smtpSettingForm.get("isDefault").value),t.xp6(2),t.Q6J("ngIf",a.isEditMode),t.xp6(1),t.Q6J("ngIf",!a.isEditMode),t.xp6(1),t.Q6J("routerLink",t.DdM(29,mt)),t.xp6(2),t.hij(" ",t.lcZ(51,27,"CANCEL")," "))},dependencies:[S.O5,m._Y,m.Fj,m.wV,m.JJ,m.JL,m.sg,m.u,r.rH,v.Rr,T.X$]}),e})(),A=(()=>{class e{constructor(i){this.emailSmtpSettingService=i}resolve(i,a){const l=i.paramMap.get("id");return this.emailSmtpSettingService.getEmailSMTPSetting(l)}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(g))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();const st=[{path:"",component:O,canActivate:[u.a],data:{claimType:"email_view_smtp_settings"}},{path:"manage/:id",component:Z,resolve:{smtpSetting:A},canActivate:[u.a],data:{claimType:"email_edit_smtp_setting"}},{path:"manage",component:Z,canActivate:[u.a],data:{claimType:"email_create_smtp_setting"}}];let lt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Bz.forChild(st),r.Bz]}),e})();var rt=o(773),pt=o(6845);let ct=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[A],imports:[S.ez,pt.m,m.UX,lt,s.p0,rt.Cq,v.rP]}),e})()}}]);