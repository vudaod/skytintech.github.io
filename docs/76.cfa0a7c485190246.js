"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[76],{4479:(C,u,i)=>{i.d(u,{f:()=>O});var c=i(9838),p=i(5e3);let O=(()=>{class t extends c.c8{constructor(m){super("Operation",m)}}return t.\u0275fac=function(m){return new(m||t)(p.LFG(c.yV))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},6076:(C,u,i)=>{i.r(u),i.d(u,{OperationModule:()=>P});var c=i(9808),p=i(2676),O=i(2868),t=i(5e3),g=i(4479),m=i(2457),d=i(2349),f=i(3075);function Z(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",8),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.saveOperation())}),t._UZ(2,"i",9),t._uU(3," Save"),t.qZA(),t.BQk()}}function T(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",8),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.saveOperation())}),t._UZ(2,"i",9),t._uU(3," Save"),t.qZA(),t.BQk()}}let b=(()=>{class e extends p.H{constructor(n,o,r){super(),this.dialogRef=n,this.data=o,this.operationService=r,this.isEdit=!1}ngOnChanges(n){n.data&&this.data.id&&(this.isEdit=!0)}onCancel(){this.dialogRef.close()}saveOperation(){this.data.id?this.operationService.update(this.data):this.operationService.add(this.data),this.dialogRef.close()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.so),t.Y36(d.WI),t.Y36(g.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-operation"]],features:[t.qOj,t.TTD],decls:11,vars:3,consts:[["mat-dialog-content",""],[1,"form-group"],["for","operationName"],["type","text","id","operationName",1,"form-control",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],[4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-times-circle"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"las","la-save"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3,"Action Name:"),t.qZA(),t.TgZ(4,"input",3),t.NdJ("ngModelChange",function(l){return o.data.name=l}),t.qZA()()(),t.TgZ(5,"div",4),t.YNc(6,Z,4,0,"ng-container",5),t.YNc(7,T,4,0,"ng-container",5),t.TgZ(8,"button",6),t.NdJ("click",function(){return o.onCancel()}),t._UZ(9,"i",7),t._uU(10," Cancel"),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("ngModel",o.data.name),t.xp6(2),t.Q6J("ngIf",!o.isEdit),t.xp6(1),t.Q6J("ngIf",o.isEdit))},dependencies:[c.O5,f.Fj,f.JJ,f.On,d.xY,d.H8]}),e})();var y=i(5485),s=i(2075),_=i(773);function S(e,a){1&e&&(t.TgZ(0,"div",18),t._UZ(1,"mat-spinner"),t.qZA())}function M(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Action "),t.qZA())}function x(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"td",20)(1,"button",21),t.NdJ("click",function(){const l=t.CHM(n).$implicit,h=t.oxw();return t.KtG(h.manageOperation(l))}),t._UZ(2,"i",22),t._uU(3," Edit "),t.qZA(),t.TgZ(4,"button",23),t.NdJ("click",function(){const l=t.CHM(n).$implicit,h=t.oxw();return t.KtG(h.deleteOperation(l))}),t._UZ(5,"i",24),t._uU(6," Delete "),t.qZA()()}}function A(e,a){1&e&&(t.TgZ(0,"th",25),t._uU(1," Name "),t.qZA())}function H(e,a){if(1&e&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function D(e,a){1&e&&t._UZ(0,"tr",27)}function L(e,a){1&e&&t._UZ(0,"tr",28)}let U=(()=>{class e extends p.H{constructor(n,o){super(),this.dialog=n,this.commonDialogService=o,this.loading=!1,this.addEditOperationHandler=new t.vpe,this.deleteOperationHandler=new t.vpe,this.displayedColumns=["action","name"]}ngOnInit(){}deleteOperation(n){this.sub$.sink=this.commonDialogService.deleteConformationDialog(`Are you sure you want to delete ${n.name}`).subscribe(o=>{o&&this.deleteOperationHandler.emit(n.id)})}manageOperation(n){const o=this.dialog.open(b,{width:"250px",data:Object.assign({},n)});this.sub$.sink=o.afterClosed().subscribe(r=>{r&&this.addEditOperationHandler.emit(r)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.uw),t.Y36(y.V))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-operation-list-presentation"]],inputs:{operations:"operations",loading:"loading"},outputs:{addEditOperationHandler:"addEditOperationHandler",deleteOperationHandler:"deleteOperationHandler"},features:[t.qOj],decls:22,vars:5,consts:[[1,"row","mb-3","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"section-title"],[1,"widget-title"],[1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"las","la-plus"],[1,"mat-elevation-z8"],["class","loading-shade",4,"ngIf"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8","table",3,"dataSource"],["matColumnDef","action"],["style","width:30%","mat-header-cell","",4,"matHeaderCellDef"],["style","width:30%","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"loading-shade"],["mat-header-cell","",2,"width","30%"],["mat-cell","",2,"width","30%"],["type","button",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"las","la-pen"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-trash"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Actions"),t.qZA()()(),t.TgZ(5,"div",1)(6,"h4",3)(7,"button",4),t.NdJ("click",function(){return o.manageOperation({})}),t._UZ(8,"i",5),t._uU(9," Add Action "),t.qZA()()()(),t.TgZ(10,"div",6),t.YNc(11,S,2,0,"div",7),t.TgZ(12,"div",8)(13,"table",9),t.ynx(14,10),t.YNc(15,M,2,0,"th",11),t.YNc(16,x,7,0,"td",12),t.BQk(),t.ynx(17,13),t.YNc(18,A,2,0,"th",14),t.YNc(19,H,2,1,"td",15),t.BQk(),t.YNc(20,D,1,0,"tr",16),t.YNc(21,L,1,0,"tr",17),t.qZA()()()),2&n&&(t.xp6(11),t.Q6J("ngIf",!o.loading),t.xp6(2),t.Q6J("dataSource",o.operations),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[c.O5,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,_.Ou],changeDetection:0}),e})(),E=(()=>{class e extends p.H{constructor(n,o){super(),this.operationService=n,this.toastrService=o}ngOnInit(){this.loading$=this.operationService.loaded$.pipe((0,O.b)(n=>{n||this.getOperations()})),this.operations$=this.operationService.entities$}getOperations(){this.operationService.getAll()}deleteOperation(n){this.sub$.sink=this.operationService.delete(n).subscribe(()=>{this.toastrService.success("Operation Deleted Successfully.")})}manageOperation(n){this.sub$.sink=n.id?this.operationService.update(n).subscribe(()=>{this.toastrService.success("Operation Updated Successfully.")}):this.operationService.add(n).subscribe(()=>{this.toastrService.success("Operation Saved Successfully.")})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.f),t.Y36(m._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-operation-list"]],features:[t.qOj],decls:3,vars:6,consts:[[3,"operations","loading","addEditOperationHandler","deleteOperationHandler"]],template:function(n,o){1&n&&(t.TgZ(0,"app-operation-list-presentation",0),t.NdJ("addEditOperationHandler",function(l){return o.manageOperation(l)})("deleteOperationHandler",function(l){return o.deleteOperation(l)}),t.ALo(1,"async"),t.ALo(2,"async"),t.qZA()),2&n&&t.Q6J("operations",t.lcZ(1,2,o.operations$))("loading",t.lcZ(2,4,o.loading$))},dependencies:[U,c.Ov]}),e})();var v=i(2784);const w=[{path:"",component:E,canActivate:[i(319).a]}];let J=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[v.Bz.forChild(w),v.Bz]}),e})();var k=i(6845);let P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,f.u5,J,s.p0,_.Cq,d.Is,k.m]}),e})()}}]);