"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[919],{4479:(m,O,o)=>{o.d(O,{f:()=>g});var d=o(9838),l=o(5e3);let g=(()=>{class a extends d.c8{constructor(p){super("Operation",p)}}return a.\u0275fac=function(p){return new(p||a)(l.LFG(d.yV))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},2328:(m,O,o)=>{o.d(O,{h:()=>g});var d=o(9838),l=o(5e3);let g=(()=>{class a extends d.c8{constructor(p){super("ScreenOperation",p)}}return a.\u0275fac=function(p){return new(p||a)(l.LFG(d.yV))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},38:(m,O,o)=>{o.d(O,{H:()=>g});var d=o(9838),l=o(5e3);let g=(()=>{class a extends d.c8{constructor(p){super("Screen",p)}}return a.\u0275fac=function(p){return new(p||a)(l.LFG(d.yV))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},919:(m,O,o)=>{o.r(O),o.d(O,{ScreenOperationModule:()=>P});var d=o(9808),l=o(2784),g=o(319),a=o(2868),e=o(5e3),p=o(38),f=o(4479),v=o(2328),_=o(2676),u=o(3075),h=o(2368);function M(t,c){if(1&t&&(e.TgZ(0,"th",6),e._uU(1),e.qZA()),2&t){const n=c.$implicit;e.xp6(1),e.hij(" ",n.name," ")}}function A(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"td")(1,"mat-slide-toggle",7),e.NdJ("change",function(s){const S=e.CHM(n).$implicit,Z=e.oxw().$implicit,E=e.oxw();return e.KtG(E.onScreenOperationChange(s,Z.id,S.id))}),e.qZA()()}if(2&t){const n=c.$implicit,r=e.oxw().$implicit,s=e.oxw();e.xp6(1),e.Q6J("checked",s.onCheck(r.id,n.id))}}function C(t,c){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,A,2,1,"td",5),e.qZA()),2&t){const n=c.$implicit,r=e.oxw();e.xp6(2),e.hij(" ",n.name," "),e.xp6(1),e.Q6J("ngForOf",r.operations)}}let y=(()=>{class t extends _.H{constructor(n){super(),this.fb=n,this.addScreenOperation=new e.vpe,this.deleteScreenOperation=new e.vpe}get screenOperationArray(){return this.screenOperationForm.get("screenOperationArray")}ngOnInit(){this.createScreenOperationForm()}ngOnChanges(n){}createScreenOperationForm(){this.screenOperationForm=this.fb.group({screenOperationArray:this.fb.array([])})}onCheck(n,r){return!!this.screenOperations.find(i=>i.screenId===n&&i.operationId===r)}patchScreenOperationForm(){this.screens.forEach(n=>{this.operations.forEach(r=>{const s=this.screenOperations.find(S=>S.screenId===n.id&&S.operationId===r.id);let i=null;s&&(i=s.id),this.screenOperationArray.push(this.fb.group({id:[i],screenId:[n.id],screenName:[n.name],operationId:[r.id],operationName:[r.name],flag:!!i}))})})}onScreenOperationChange(n,r,s){if(n.checked)this.addScreenOperation.emit({screenId:r,operationId:s});else{const i=this.screenOperations.find(S=>S.operationId===s&&S.screenId===r);i&&this.deleteScreenOperation.emit(i)}}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.QS))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-manage-screen-operation-presentation"]],inputs:{screens:"screens",operations:"operations",screenOperations:"screenOperations",loading:"loading",loadingScreen:"loadingScreen",loadingOperation:"loadingOperation"},outputs:{addScreenOperation:"addScreenOperation",deleteScreenOperation:"deleteScreenOperation"},features:[e.qOj,e.TTD],decls:13,vars:2,consts:[[1,"row","mb-3","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"section-title"],[1,"table","table-bordered"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col"],[3,"checked","change"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4,"Page Actions"),e.qZA()()()(),e.TgZ(5,"table",3)(6,"thead")(7,"tr")(8,"th"),e._uU(9,"#"),e.qZA(),e.YNc(10,M,2,1,"th",4),e.qZA()(),e.TgZ(11,"tbody"),e.YNc(12,C,4,2,"tr",5),e.qZA()()),2&n&&(e.xp6(10),e.Q6J("ngForOf",r.operations),e.xp6(2),e.Q6J("ngForOf",r.screens))},dependencies:[d.sg,h.Rr],changeDetection:0}),t})();const $=[{path:"",component:(()=>{class t{constructor(n,r,s){this.screenService=n,this.operationService=r,this.screenOperationService=s}ngOnInit(){this.loadingOperation$=this.operationService.loaded$.pipe((0,a.b)(n=>{n||this.getOperations()})),this.operations$=this.operationService.entities$,this.loadingScreen$=this.screenService.loaded$.pipe((0,a.b)(n=>{n||this.getScreens()})),this.screens$=this.screenService.entities$,this.loading$=this.screenOperationService.loaded$,this.screenOperations$=this.screenOperationService.entities$,this.getScreenOperations()}getOperations(){this.operationService.getAll()}getScreens(){this.screenService.getAll()}getScreenOperations(){this.screenOperationService.getAll()}onAddScreenOperation(n){this.screenOperationService.add(n)}onDeleteScreenOperation(n){this.screenOperationService.delete(n.id)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.H),e.Y36(f.f),e.Y36(v.h))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-manage-screen-operation"]],decls:7,vars:18,consts:[[3,"screens","operations","screenOperations","loading","loadingScreen","loadingOperation","addScreenOperation","deleteScreenOperation"]],template:function(n,r){1&n&&(e.TgZ(0,"app-manage-screen-operation-presentation",0),e.NdJ("addScreenOperation",function(i){return r.onAddScreenOperation(i)})("deleteScreenOperation",function(i){return r.onDeleteScreenOperation(i)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.qZA()),2&n&&e.Q6J("screens",e.lcZ(1,6,r.screens$))("operations",e.lcZ(2,8,r.operations$))("screenOperations",e.lcZ(3,10,r.screenOperations$))("loading",e.lcZ(4,12,r.loading$))("loadingScreen",e.lcZ(5,14,r.loadingScreen$))("loadingOperation",e.lcZ(6,16,r.loadingOperation$))},dependencies:[y,d.Ov]}),t})(),canActivate:[g.a]}];let F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild($),l.Bz]}),t})();var T=o(6845);let P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,F,h.rP,u.UX,T.m]}),t})()}}]);