"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[875],{3875:(Z,y,r)=>{r.r(y),r.d(y,{CategoryModule:()=>ct});var _=r(9808),h=r(2784),f=r(319),d=r(2676),t=r(5e3),c=r(6943),g=r(2457),x=r(6107),u=r(1777),C=r(2349),m=r(3075),b=r(9785),T=r(2925);function v(e,o){1&e&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CATEGORY_NAME_IS_REQUIRED")))}function A(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,v,3,3,"div",15),t.qZA()),2&e){t.oxw();const n=t.MAs(10);t.xp6(1),t.Q6J("ngIf",null==n.errors?null:n.errors.required)}}function L(e,o){1&e&&(t.TgZ(0,"button",18),t._UZ(1,"i",19),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"SAVE"),""))}function E(e,o){1&e&&(t.ynx(0),t.YNc(1,L,4,3,"button",17),t.BQk()),2&e&&(t.xp6(1),t.Q6J("hasClaim","document_category_create_category"))}function D(e,o){1&e&&(t.TgZ(0,"button",18),t._UZ(1,"i",19),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"SAVE"),""))}function w(e,o){1&e&&(t.ynx(0),t.YNc(1,D,4,3,"button",17),t.BQk()),2&e&&(t.xp6(1),t.Q6J("hasClaim","document_category_edit_category"))}let M=(()=>{class e extends d.H{constructor(n,a,i){super(),this.dialogRef=n,this.data=a,this.categoryService=i,this.isEdit=!1}ngOnChanges(n){n.data&&this.data.id&&(this.isEdit=!0)}onCancel(){this.dialogRef.close()}saveCategory(){this.data.id?this.categoryService.update(this.data).subscribe(n=>{this.dialogRef.close(n)}):this.categoryService.add(this.data).subscribe(n=>{this.dialogRef.close(n)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C.so),t.Y36(C.WI),t.Y36(c.H))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-category"]],features:[t.qOj,t.TTD],decls:27,vars:14,consts:[["name","form","novalidate","",3,"ngSubmit"],["categoryForm","ngForm"],["mat-dialog-content",""],[1,"row"],[1,"col-sm-12"],[1,"form-group"],["for","categoryName"],["required","","type","text","name","name","id","categoryName",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],[4,"ngIf"],["for","description"],["name","description","type","text",1,"form-control",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-times-circle"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["type","submit","class","btn btn-success btn-sm m-right-10","cdkFocusInitial","",4,"hasClaim"],["type","submit","cdkFocusInitial","",1,"btn","btn-success","btn-sm","m-right-10"],[1,"las","la-save"]],template:function(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){t.CHM(i);const p=t.MAs(1);return t.KtG(p.form.valid&&a.saveCategory())}),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"input",7,8),t.NdJ("ngModelChange",function(p){return a.data.name=p}),t.qZA(),t.YNc(11,A,2,1,"div",9),t.qZA()()(),t.TgZ(12,"div",3)(13,"div",4)(14,"div",5)(15,"label",10),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"textarea",11),t.NdJ("ngModelChange",function(p){return a.data.description=p}),t._uU(19,"            "),t.qZA()()()()(),t.TgZ(20,"div",12),t.YNc(21,E,2,1,"ng-container",9),t.YNc(22,w,2,1,"ng-container",9),t.TgZ(23,"button",13),t.NdJ("click",function(){return a.onCancel()}),t._UZ(24,"i",14),t._uU(25),t.ALo(26,"translate"),t.qZA()()()}if(2&n){const i=t.MAs(10);t.xp6(7),t.Oqu(t.lcZ(8,8,"NAME")),t.xp6(2),t.Q6J("ngModel",a.data.name),t.xp6(2),t.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),t.xp6(5),t.Oqu(t.lcZ(17,10,"DESCRIPTION")),t.xp6(2),t.Q6J("ngModel",a.data.description),t.xp6(3),t.Q6J("ngIf",!a.isEdit),t.xp6(1),t.Q6J("ngIf",a.isEdit),t.xp6(3),t.hij(" ",t.lcZ(26,12,"CANCEL"),"")}},dependencies:[_.O5,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.On,m.F,C.xY,C.H8,b.d,T.X$]}),e})();var N=r(5485),l=r(2075);function Y(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.manageCategory({}))}),t._UZ(1,"i",22),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"ADD_DOCUMENT_CATEGORY")," "))}function S(e,o){1&e&&t._UZ(0,"th",23)}function U(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"i",27),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.toggleRow(i))}),t.qZA()}}function P(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"i",28),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.toggleRow(i))}),t.qZA()}}function H(e,o){if(1&e&&(t.TgZ(0,"td",24),t.YNc(1,U,1,0,"i",25),t.YNc(2,P,1,0,"i",26),t.qZA()),2&e){const n=o.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",n!=a.expandedElement),t.xp6(1),t.Q6J("ngIf",n==a.expandedElement)}}function J(e,o){1&e&&(t.TgZ(0,"th",29),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"ACTION")," "))}function O(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.manageCategory(i))}),t._UZ(1,"i",34),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"EDIT")," "))}function R(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.deleteCategory(i))}),t._UZ(1,"i",36),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"DELETE")," "))}function Q(e,o){1&e&&(t.TgZ(0,"td",30),t.YNc(1,O,4,3,"button",31),t.YNc(2,R,4,3,"button",32),t.qZA()),2&e&&(t.xp6(1),t.Q6J("hasClaim","document_category_edit_category"),t.xp6(1),t.Q6J("hasClaim","document_category_delete_category"))}function I(e,o){1&e&&(t.TgZ(0,"th",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NAME")," "))}function k(e,o){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function j(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.addSubCategory(i))}),t._UZ(1,"i",22),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"ADD_CHILD_CATEGORY")," "))}function q(e,o){1&e&&(t.TgZ(0,"th",29),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"ACTION")," "))}function F(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.manageCategory(i))}),t._UZ(1,"i",34),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"EDIT")," "))}function $(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.deleteCategory(i))}),t._UZ(1,"i",36),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"DELETE")," "))}function B(e,o){1&e&&(t.TgZ(0,"td",30),t.YNc(1,F,4,3,"button",31),t.YNc(2,$,4,3,"button",32),t.qZA()),2&e&&(t.xp6(1),t.Q6J("hasClaim","document_category_edit_category"),t.xp6(1),t.Q6J("hasClaim","document_category_delete_category"))}function G(e,o){1&e&&(t.TgZ(0,"th",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NAME")," "))}function K(e,o){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function z(e,o){1&e&&t._UZ(0,"tr",42)}function X(e,o){1&e&&t._UZ(0,"tr",43)}function V(e,o){if(1&e&&(t.TgZ(0,"td",38)(1,"div",39)(2,"div",40)(3,"div",0)(4,"div",1)(5,"div",2)(6,"h2"),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",1)(10,"h4",3),t.YNc(11,j,4,3,"button",4),t.qZA()()(),t.TgZ(12,"table",41),t.ynx(13,11),t.YNc(14,q,3,3,"th",12),t.YNc(15,B,3,2,"td",13),t.BQk(),t.ynx(16,14),t.YNc(17,G,3,3,"th",15),t.YNc(18,K,2,1,"td",16),t.BQk(),t.YNc(19,z,1,0,"tr",18),t.YNc(20,X,1,0,"tr",19),t.qZA()()()()),2&e){const n=o.$implicit,a=t.oxw();t.uIk("colspan",a.columnsToDisplay.length),t.xp6(1),t.Q6J("@detailExpand",n==a.expandedElement?"expanded":"collapsed"),t.xp6(6),t.Oqu(t.lcZ(8,8,"CHILD_CATEGORIES")),t.xp6(4),t.Q6J("hasClaim","document_category_create_category"),t.xp6(1),t.Q6J("dataSource",a.subCategories),t.xp6(7),t.Q6J("matHeaderRowDef",a.subCategoryColumnToDisplay)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",a.subCategoryColumnToDisplay)}}function W(e,o){1&e&&t._UZ(0,"tr",42)}function tt(e,o){1&e&&t._UZ(0,"tr",43)}function et(e,o){1&e&&t._UZ(0,"tr",44)}const nt=function(){return["expandedDetail"]};let ot=(()=>{class e extends d.H{constructor(n,a,i,s,p){super(),this.dialog=n,this.commonDialogService=a,this.cd=i,this.categoryService=s,this.translationService=p,this.addEditCategoryHandler=new t.vpe,this.deleteCategoryHandler=new t.vpe,this.columnsToDisplay=["subcategory","action","name"],this.subCategoryColumnToDisplay=["action","name"],this.subCategories=[]}ngOnInit(){}toggleRow(n){this.subCategories=[],this.categoryService.getSubCategories(n.id).subscribe(a=>{this.subCategories=a,this.expandedElement=this.expandedElement===n?null:n,this.cd.detectChanges()})}deleteCategory(n){this.sub$.sink=this.commonDialogService.deleteConformationDialog(`${this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")} ${n.name}`).subscribe(a=>{a&&this.deleteCategoryHandler.emit(n.id)})}manageCategory(n){const a=this.dialog.open(M,{width:"350px",data:Object.assign({},n)});this.sub$.sink=a.afterClosed().subscribe(i=>{i&&this.addEditCategoryHandler.emit(i)})}addSubCategory(n){this.manageCategory({id:"",description:"",name:"",parentId:n.id})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C.uw),t.Y36(N.V),t.Y36(t.sBO),t.Y36(c.H),t.Y36(x.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-category-list-presentation"]],inputs:{categories:"categories"},outputs:{addEditCategoryHandler:"addEditCategoryHandler",deleteCategoryHandler:"deleteCategoryHandler"},features:[t.qOj],decls:26,vars:10,consts:[[1,"row","mb-3","align-items-center","justify-content-between"],[1,"col-md-auto","col-sm-auto"],[1,"section-title"],[1,"widget-title"],["class","btn btn-success btn-sm m-right-10",3,"click",4,"hasClaim"],[1,"mat-elevation-z8"],[1,"table-container"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8","table",3,"dataSource"],["matColumnDef","subcategory"],["style","width:10%","mat-header-cell","",4,"matHeaderCellDef"],["style","width:10%","mat-cell","",4,"matCellDef"],["matColumnDef","action"],["style","width:30%","mat-header-cell","",4,"matHeaderCellDef"],["style","width:30%","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"las","la-plus"],["mat-header-cell","",2,"width","10%"],["mat-cell","",2,"width","10%"],["class","las la-angle-double-right btn",3,"click",4,"ngIf"],["class","las la-angle-double-down btn",3,"click",4,"ngIf"],[1,"las","la-angle-double-right","btn",3,"click"],[1,"las","la-angle-double-down","btn",3,"click"],["mat-header-cell","",2,"width","30%"],["mat-cell","",2,"width","30%"],["class","btn btn-success btn-sm m-right-10","type","button",3,"click",4,"hasClaim"],["class","btn btn-danger btn-sm","type","button",3,"click",4,"hasClaim"],["type","button",1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"las","la-pen"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-trash"],["mat-header-cell",""],["mat-cell",""],[1,"example-element-detail"],[1,"inner-table","mat-elevation-z8"],["mat-table","","multiTemplateDataRows","",1,"table",3,"dataSource"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"example-detail-row"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",1)(7,"h4",3),t.YNc(8,Y,4,3,"button",4),t.qZA()()(),t.TgZ(9,"div",5)(10,"div",6)(11,"table",7),t.ynx(12,8),t.YNc(13,S,1,0,"th",9),t.YNc(14,H,3,2,"td",10),t.BQk(),t.ynx(15,11),t.YNc(16,J,3,3,"th",12),t.YNc(17,Q,3,2,"td",13),t.BQk(),t.ynx(18,14),t.YNc(19,I,3,3,"th",15),t.YNc(20,k,2,1,"td",16),t.BQk(),t.ynx(21,17),t.YNc(22,V,21,10,"td",16),t.BQk(),t.YNc(23,W,1,0,"tr",18),t.YNc(24,tt,1,0,"tr",19),t.YNc(25,et,1,0,"tr",20),t.qZA()()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,7,"DOCUMENT_CATEGORIES")),t.xp6(4),t.Q6J("hasClaim","document_category_create_category"),t.xp6(3),t.Q6J("dataSource",a.categories),t.xp6(12),t.Q6J("matHeaderRowDef",a.columnsToDisplay)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",a.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(9,nt)))},dependencies:[_.O5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,b.d,T.X$],styles:["tr.example-detail-row[_ngcontent-%COMP%]{height:0!important}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.inner-table[_ngcontent-%COMP%]{margin:1em;padding:1em;width:100%!important}"],data:{animation:[(0,u.X$)("detailExpand",[(0,u.SB)("collapsed",(0,u.oB)({height:"0px",minHeight:"0"})),(0,u.SB)("expanded",(0,u.oB)({height:"*"})),(0,u.eR)("expanded <=> collapsed",(0,u.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]},changeDetection:0}),e})();const at=[{path:"",component:(()=>{class e extends d.H{constructor(n,a,i){super(),this.categoryService=n,this.toastrService=a,this.translationService=i}ngOnInit(){this.getCategories()}getCategories(){this.categories$=this.categoryService.getAllCategories()}deleteCategory(n){this.categoryService.delete(n).subscribe(a=>{this.toastrService.success(this.translationService.getValue("CATEGORY_DELETED_SUCCESSFULLY")),this.getCategories()})}manageCategory(n){this.getCategories()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.H),t.Y36(g._W),t.Y36(x.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-category-list"]],features:[t.qOj],decls:2,vars:3,consts:[[3,"categories","addEditCategoryHandler","deleteCategoryHandler"]],template:function(n,a){1&n&&(t.TgZ(0,"app-category-list-presentation",0),t.NdJ("addEditCategoryHandler",function(s){return a.manageCategory(s)})("deleteCategoryHandler",function(s){return a.deleteCategory(s)}),t.ALo(1,"async"),t.qZA()),2&n&&t.Q6J("categories",t.lcZ(1,1,a.categories$))},dependencies:[ot,_.Ov]}),e})(),data:{claimType:"document_category_view_categories"},canActivate:[f.a]}];let it=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(at),h.Bz]}),e})();var rt=r(773),st=r(6845);let ct=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[_.ez,it,_.ez,m.u5,m.UX,l.p0,rt.Cq,C.Is,st.m]}),e})()},6943:(Z,y,r)=>{r.d(y,{H:()=>f});var _=r(5e3),h=r(520);let f=(()=>{class d{constructor(c){this.httpClient=c}getAllCategories(){return this.httpClient.get("Category")}delete(c){return this.httpClient.delete(`Category/${c}`)}update(c){return this.httpClient.put(`Category/${c.id}`,c)}add(c){return this.httpClient.post("Category",c)}getSubCategories(c){return this.httpClient.get(`Category/${c}/subcategories`)}getAllCategoriesForDropDown(){return this.httpClient.get("Category/dropdown")}}return d.\u0275fac=function(c){return new(c||d)(_.LFG(h.eN))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);